<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smart Inventory</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:system-ui;}

body{
background:linear-gradient(180deg,#0f172a,#0b1220);
color:white;
min-height:100vh;
}

header{
text-align:center;
padding:22px;
font-size:24px;
font-weight:700;
letter-spacing:0.5px;
}

.container{
padding:18px;
padding-bottom:150px;
}

.section{display:none;}
.section.active{display:block;}

.cards{
display:grid;
grid-template-columns:1fr 1fr;
gap:16px;
margin-bottom:20px;
}

.card{
background:#1e293b;
padding:20px;
border-radius:24px;
box-shadow:0 15px 35px rgba(0,0,0,0.45);
}

.card h3{
font-size:14px;
color:#94a3b8;
margin-bottom:6px;
}

.card p{
font-size:22px;
font-weight:bold;
}

.green{color:#22c55e;}
.red{color:#ef4444;}

.product-card{
background:#1e293b;
padding:20px;
border-radius:24px;
margin-bottom:18px;
box-shadow:0 15px 35px rgba(0,0,0,0.45);
}

.product-header{
display:flex;
justify-content:space-between;
align-items:center;
margin-bottom:8px;
}

.icon-group{
display:flex;
gap:10px;
}

.icon-btn{
background:none;
border:none;
color:#cbd5e1;
font-size:18px;
cursor:pointer;
}

.icon-btn:hover{color:white;}

.stock-badge{
display:inline-block;
margin-top:10px;
padding:7px 16px;
border-radius:25px;
font-size:13px;
font-weight:600;
background:rgba(34,197,94,0.15);
color:#22c55e;
border:1px solid rgba(34,197,94,0.4);
}

.stock-low{
background:rgba(239,68,68,0.15);
color:#ef4444;
border:1px solid rgba(239,68,68,0.4);
box-shadow:0 0 8px rgba(239,68,68,0.4);
}

.sales-product{
background:#1e293b;
padding:16px;
border-radius:20px;
margin-bottom:12px;
cursor:pointer;
transition:0.2s;
}

.sales-product.active{
border:2px solid #22c55e;
background:#132a1d;
}

.qty-box{
display:flex;
justify-content:center;
gap:20px;
margin-top:14px;
align-items:center;
}

.qty-btn{
width:45px;
height:45px;
border-radius:50%;
background:#334155;
display:flex;
align-items:center;
justify-content:center;
cursor:pointer;
font-size:20px;
}

button.primary{
background:#3b82f6;
color:white;
width:100%;
padding:12px;
border:none;
border-radius:16px;
margin-top:14px;
font-weight:600;
}

button.danger{
background:#ef4444;
color:white;
width:100%;
padding:12px;
border:none;
border-radius:16px;
margin-top:10px;
font-weight:600;
}

input{
width:100%;
padding:14px;
border-radius:16px;
border:none;
background:#334155;
color:white;
margin-top:12px;
}

.modal{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:rgba(0,0,0,0.65);
display:none;
align-items:center;
justify-content:center;
padding:20px;
z-index:100;
}

.modal-content{
background:#1e293b;
padding:22px;
border-radius:24px;
width:100%;
max-width:400px;
box-shadow:0 15px 40px rgba(0,0,0,0.6);
}

.fab{
position:fixed;
bottom:90px;
left:50%;
transform:translateX(-50%);
background:#22c55e;
width:70px;
height:70px;
border-radius:50%;
display:flex;
align-items:center;
justify-content:center;
font-size:30px;
box-shadow:0 12px 30px rgba(0,0,0,0.6);
cursor:pointer;
border:6px solid #0f172a;
z-index:60;
}

.tabs{
position:fixed;
bottom:20px;
left:50%;
transform:translateX(-50%);
width:92%;
max-width:430px;
background:#1e293b;
display:flex;
justify-content:space-around;
padding:18px 10px;
border-radius:40px;
box-shadow:0 18px 40px rgba(0,0,0,0.7);
z-index:50;
}

.tabs button{
background:none;
border:none;
color:#94a3b8;
font-size:14px;
display:flex;
flex-direction:column;
align-items:center;
gap:4px;
cursor:pointer;
padding:8px 14px;
border-radius:20px;
transition:0.2s;
}

.tabs button.active{
color:#22c55e;
box-shadow:0 0 0 2px rgba(255,255,255,0.4);
}
</style>
</head>

<body>

<header>üìä Smart Inventory</header>

<div class="container">

<div id="home" class="section active">
<div class="cards">
<div class="card">
<h3>üì¶ Products</h3>
<p id="totalProducts">0</p>
</div>
<div class="card">
<h3>‚ö†Ô∏è Low Stock</h3>
<p id="lowStock" class="red">0</p>
</div>
<div class="card">
<h3>üìÖ This Month Revenue</h3>
<p id="monthRevenue" class="green">‚Çπ0</p>
</div>
<div class="card">
<h3>üìà This Month Profit</h3>
<p id="monthProfit" class="green">‚Çπ0</p>
</div>
</div>
</div>

<div id="products" class="section"></div>
<div id="sales" class="section"></div>
<div id="report" class="section"></div>

</div>

<div class="fab" id="fabBtn">Ôºã</div>

<div class="modal" id="productModal">
<div class="modal-content">
<h3 id="modalTitle">Add Product</h3>
<input id="name" placeholder="Product Name">
<input id="buy" type="number" placeholder="Buying Price">
<input id="sell" type="number" placeholder="Selling Price">
<input id="stock" type="number" placeholder="Stock Quantity">
<button class="primary" id="saveBtn">Save</button>
<button class="danger" onclick="closeProductModal()">Cancel</button>
</div>
</div>

<div class="modal" id="deleteModal">
<div class="modal-content">
<h3>‚ö† Confirm Delete</h3>
<p style="margin-top:10px;">Are you sure?</p>
<button class="danger" id="confirmDeleteBtn">Yes Delete</button>
<button class="primary" onclick="closeDeleteModal()">Cancel</button>
</div>
</div>

<div class="tabs">
<button onclick="showSection('home',this)" class="active">üè† Home</button>
<button onclick="showSection('products',this)">üì¶ Products</button>
<button onclick="showSection('sales',this)">üõí Sales</button>
<button onclick="showSection('report',this)">üìä Report</button>
</div>

<script>
window.onload=function(){

let products=JSON.parse(localStorage.getItem("inventory_products"))||[];
let salesHistory=JSON.parse(localStorage.getItem("inventory_sales"))||[];

let editId=null;
let deleteId=null;
let selected=null;
let qty=1;

function save(){
localStorage.setItem("inventory_products",JSON.stringify(products));
localStorage.setItem("inventory_sales",JSON.stringify(salesHistory));
}

function showSection(id,btn){
document.querySelectorAll(".section").forEach(s=>s.classList.remove("active"));
document.getElementById(id).classList.add("active");
document.querySelectorAll(".tabs button").forEach(b=>b.classList.remove("active"));
btn.classList.add("active");
render();
}
window.showSection=showSection;

document.getElementById("fabBtn").onclick=function(){
editId=null;
modalTitle.innerText="Add Product";
name.value="";buy.value="";sell.value="";stock.value="";
productModal.style.display="flex";
};

window.closeProductModal=function(){productModal.style.display="none";}
window.closeDeleteModal=function(){deleteModal.style.display="none";}

document.getElementById("saveBtn").onclick=function(){
if(!name.value)return;

if(editId){
let p=products.find(x=>x.id===editId);
p.name=name.value;p.buy=+buy.value;p.sell=+sell.value;p.stock=+stock.value;
}else{
products.push({id:Date.now(),name:name.value,buy:+buy.value,sell:+sell.value,stock:+stock.value});
}
save();
closeProductModal();
render();
};

document.getElementById("confirmDeleteBtn").onclick=function(){
products=products.filter(p=>p.id!==deleteId);
save();
closeDeleteModal();
render();
};

window.openDelete=function(id){
deleteId=id;
deleteModal.style.display="flex";
};

window.openEdit=function(id){
let p=products.find(x=>x.id===id);
editId=id;
modalTitle.innerText="Edit Product";
name.value=p.name;buy.value=p.buy;sell.value=p.sell;stock.value=p.stock;
productModal.style.display="flex";
};

window.selectProduct=function(id){
selected=products.find(p=>p.id===id);
qty=1;
render();
};

window.changeQty=function(n){
qty+=n;if(qty<1)qty=1;
render();
};

window.completeSale=function(){
if(!selected||selected.stock<qty)return;
selected.stock-=qty;
salesHistory.push({
productId:selected.id,
revenue:selected.sell*qty,
profit:(selected.sell-selected.buy)*qty,
date:new Date().toISOString()
});
save();
selected=null;qty=1;
render();
};

function render(){
totalProducts.innerText=products.length;
lowStock.innerText=products.filter(p=>p.stock<20).length;

let now=new Date();
let monthSales=salesHistory.filter(s=>{
let d=new Date(s.date);
return d.getMonth()===now.getMonth()&&d.getFullYear()===now.getFullYear();
});

let monthRev=monthSales.reduce((a,b)=>a+b.revenue,0);
let monthProf=monthSales.reduce((a,b)=>a+b.profit,0);

monthRevenue.innerText="‚Çπ"+monthRev;
monthProfit.innerText="‚Çπ"+monthProf;

products.innerHTML=products.map(p=>{
let low=p.stock<20?"stock-low":"";
return `
<div class="product-card">
<div class="product-header">
<strong>üì¶ ${p.name}</strong>
<div class="icon-group">
<button class="icon-btn" onclick="openEdit(${p.id})">‚úèÔ∏è</button>
<button class="icon-btn" onclick="openDelete(${p.id})">üóë</button>
</div>
</div>
Buy ‚Çπ${p.buy} | Sell ‚Çπ${p.sell}
<div class="stock-badge ${low}">Stock: ${p.stock}</div>
</div>`;
}).join("");

sales.innerHTML=products.map(p=>{
let active=selected&&selected.id===p.id?"active":"";
return `<div class="sales-product ${active}" onclick="selectProduct(${p.id})">
üõí ${p.name} (‚Çπ${p.sell}) - Stock ${p.stock}
</div>`;
}).join("") + (selected?`
<div style="margin-top:12px;text-align:center;">Selected: ${selected.name}</div>
<div class="qty-box">
<div class="qty-btn" onclick="changeQty(-1)">‚àí</div>
<div>${qty}</div>
<div class="qty-btn" onclick="changeQty(1)">+</div>
</div>
<button class="primary" onclick="completeSale()">Complete Sale</button>
`:"");

report.innerHTML=`
<div class="product-card">
<h3>This Month Revenue</h3>
<p class="green">‚Çπ${monthRev}</p>
</div>
<div class="product-card">
<h3>This Month Profit</h3>
<p class="green">‚Çπ${monthProf}</p>
</div>`;
}

render();
};
</script>

</body>
  </html>
