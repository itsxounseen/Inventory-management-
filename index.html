<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smart Inventory</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:system-ui;}

body{
background:linear-gradient(180deg,#0f172a,#0b1220);
color:white;
min-height:100vh;
}

header{
text-align:center;
padding:20px;
font-size:22px;
font-weight:700;
}

.container{
padding:18px;
padding-bottom:150px;
}

.product-card{
background:#1e293b;
padding:18px;
border-radius:20px;
margin-bottom:15px;
box-shadow:0 8px 25px rgba(0,0,0,0.4);
}

.stock-badge{
display:inline-block;
margin-top:10px;
padding:6px 14px;
border-radius:20px;
font-weight:600;
font-size:13px;
}

.stock-good{
background:rgba(34,197,94,0.15);
color:#22c55e;
border:1px solid rgba(34,197,94,0.4);
}

.stock-low{
background:rgba(239,68,68,0.15);
color:#ef4444;
border:1px solid rgba(239,68,68,0.4);
box-shadow:0 0 10px rgba(239,68,68,0.4);
}

button{
width:100%;
padding:10px;
border:none;
border-radius:12px;
margin-top:10px;
font-weight:bold;
cursor:pointer;
}

.primary{background:#3b82f6;color:white;}
.danger{background:#ef4444;color:white;}
.edit{background:#f59e0b;color:white;}

input{
width:100%;
padding:12px;
border-radius:12px;
border:none;
background:#334155;
color:white;
margin-top:10px;
}

.modal{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:rgba(0,0,0,0.6);
display:none;
align-items:center;
justify-content:center;
padding:20px;
z-index:100;
}

.modal-content{
background:#1e293b;
padding:20px;
border-radius:22px;
width:100%;
}

.fab{
position:fixed;
bottom:90px;
left:50%;
transform:translateX(-50%);
background:#22c55e;
width:70px;
height:70px;
border-radius:50%;
display:flex;
align-items:center;
justify-content:center;
font-size:30px;
box-shadow:0 12px 30px rgba(0,0,0,0.6);
cursor:pointer;
border:6px solid #0f172a;
}

.tabs{
position:fixed;
bottom:20px;
left:50%;
transform:translateX(-50%);
width:92%;
max-width:430px;
background:#1e293b;
display:flex;
justify-content:space-around;
padding:14px;
border-radius:35px;
box-shadow:0 10px 30px rgba(0,0,0,0.6);
}

.tabs button{
background:none;
border:none;
color:#22c55e;
font-size:14px;
}
</style>
</head>

<body>

<header>üìä Smart Inventory</header>

<div class="container" id="products"></div>

<div class="fab" onclick="openAddModal()">Ôºã</div>

<!-- ADD / EDIT MODAL -->
<div class="modal" id="productModal">
<div class="modal-content">
<h3 id="modalTitle">Add Product</h3>
<input id="name" placeholder="Product Name">
<input id="buy" type="number" placeholder="Buying Price">
<input id="sell" type="number" placeholder="Selling Price">
<input id="stock" type="number" placeholder="Stock Quantity">
<button class="primary" onclick="saveProduct()">Save</button>
<button class="danger" onclick="closeProductModal()">Cancel</button>
</div>
</div>

<!-- DELETE CONFIRM MODAL -->
<div class="modal" id="deleteModal">
<div class="modal-content">
<h3>‚ö†Ô∏è Confirm Delete</h3>
<p style="margin-top:10px;">Are you sure you want to delete this product?</p>
<button class="danger" onclick="confirmDelete()">Yes, Delete</button>
<button class="primary" onclick="closeDeleteModal()">Cancel</button>
</div>
</div>

<div class="tabs">
<button>üì¶ Products</button>
</div>

<script>
let products = JSON.parse(localStorage.getItem("products")) || [];
let editId = null;
let deleteId = null;

function save(){
localStorage.setItem("products", JSON.stringify(products));
}

function openAddModal(){
editId = null;
modalTitle.innerText = "Add Product";
name.value = "";
buy.value = "";
sell.value = "";
stock.value = "";
productModal.style.display = "flex";
}

function openEditModal(id){
let p = products.find(x => x.id === id);
editId = id;
modalTitle.innerText = "Edit Product";
name.value = p.name;
buy.value = p.buy;
sell.value = p.sell;
stock.value = p.stock;
productModal.style.display = "flex";
}

function closeProductModal(){
productModal.style.display = "none";
}

function saveProduct(){
if(!name.value) return;

if(editId){
let p = products.find(x => x.id === editId);
p.name = name.value;
p.buy = +buy.value;
p.sell = +sell.value;
p.stock = +stock.value;
}else{
products.push({
id: Date.now(),
name: name.value,
buy: +buy.value,
sell: +sell.value,
stock: +stock.value
});
}

save();
closeProductModal();
render();
}

function openDeleteModal(id){
deleteId = id;
deleteModal.style.display = "flex";
}

function closeDeleteModal(){
deleteModal.style.display = "none";
deleteId = null;
}

function confirmDelete(){
products = products.filter(p => p.id !== deleteId);
save();
closeDeleteModal();
render();
}

function render(){
let html = "";
products.forEach(p=>{
let stockClass = p.stock < 20 ? "stock-low" : "stock-good";
html += `
<div class="product-card">
<strong>üì¶ ${p.name}</strong><br>
Buy ‚Çπ${p.buy} | Sell ‚Çπ${p.sell}
<div class="stock-badge ${stockClass}">
Stock: ${p.stock}
</div>
<button class="edit" onclick="openEditModal(${p.id})">‚úèÔ∏è Edit</button>
<button class="danger" onclick="openDeleteModal(${p.id})">üóë Delete</button>
</div>
`;
});
productsDiv.innerHTML = html;
}

let productsDiv = document.getElementById("products");
let productModal = document.getElementById("productModal");
let deleteModal = document.getElementById("deleteModal");
let modalTitle = document.getElementById("modalTitle");

render();
</script>

</body>
</html>
